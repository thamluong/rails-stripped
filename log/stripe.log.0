# Logfile created on 2014-11-20 21:08:12 -0800 by logger.rb/44203
E, [2014-11-20T21:08:12.156376 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:08:12.157122 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:08:12.157185 #95535] ERROR -- : Code is: card_declined
E, [2014-11-20T21:08:12.157237 #95535] ERROR -- : Param is: 
E, [2014-11-20T21:08:12.157686 #95535] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:08:18.030447 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:08:18.030557 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:08:18.030603 #95535] ERROR -- : Code is: expired_card
E, [2014-11-20T21:08:18.030659 #95535] ERROR -- : Param is: exp_month
E, [2014-11-20T21:08:18.031011 #95535] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:08:26.290698 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:08:26.290795 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:08:26.290835 #95535] ERROR -- : Code is: processing_error
E, [2014-11-20T21:08:26.290872 #95535] ERROR -- : Param is: 
E, [2014-11-20T21:08:26.291147 #95535] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:08:55.230669 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:08:55.230779 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:08:55.230826 #95535] ERROR -- : Code is: expired_card
E, [2014-11-20T21:08:55.230868 #95535] ERROR -- : Param is: exp_month
E, [2014-11-20T21:08:55.231152 #95535] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:09:06.805489 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:09:06.805601 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:09:06.805645 #95535] ERROR -- : Code is: card_declined
E, [2014-11-20T21:09:06.805686 #95535] ERROR -- : Param is: 
E, [2014-11-20T21:09:06.805960 #95535] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:09:13.040591 #95535] ERROR -- : Status is: 402
E, [2014-11-20T21:09:13.040700 #95535] ERROR -- : Type is: card_error
E, [2014-11-20T21:09:13.040813 #95535] ERROR -- : Code is: processing_error
E, [2014-11-20T21:09:13.040857 #95535] ERROR -- : Param is: 
E, [2014-11-20T21:09:13.041136 #95535] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
I, [2014-11-20T21:37:11.071539 #95574]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T21:37:11.349390 #95574]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T21:37:11.401602 #95574] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T21:37:11.406482 #95574] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T21:37:14.340124 #95574] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:43:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T21:37:14.340995 #95574] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T21:37:14.341079 #95574] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T21:37:19.169790 #95577] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T21:37:44.693698 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:37:44.693815 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:37:44.693881 #95580] ERROR -- : Code is: card_declined
E, [2014-11-20T21:37:44.693921 #95580] ERROR -- : Param is: 
E, [2014-11-20T21:37:44.694178 #95580] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:37:47.719468 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:37:47.719565 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:37:47.719607 #95580] ERROR -- : Code is: expired_card
E, [2014-11-20T21:37:47.719652 #95580] ERROR -- : Param is: exp_month
E, [2014-11-20T21:37:47.719939 #95580] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:37:54.000439 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:37:54.000543 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:37:54.000612 #95580] ERROR -- : Code is: processing_error
E, [2014-11-20T21:37:54.000720 #95580] ERROR -- : Param is: 
E, [2014-11-20T21:37:54.000997 #95580] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:38:14.391091 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:38:14.391196 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:38:14.391240 #95580] ERROR -- : Code is: expired_card
E, [2014-11-20T21:38:14.391281 #95580] ERROR -- : Param is: exp_month
E, [2014-11-20T21:38:14.391608 #95580] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:38:22.994973 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:38:22.995085 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:38:22.995128 #95580] ERROR -- : Code is: card_declined
E, [2014-11-20T21:38:22.995167 #95580] ERROR -- : Param is: 
E, [2014-11-20T21:38:22.995434 #95580] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:38:28.576327 #95580] ERROR -- : Status is: 402
E, [2014-11-20T21:38:28.576429 #95580] ERROR -- : Type is: card_error
E, [2014-11-20T21:38:28.576477 #95580] ERROR -- : Code is: processing_error
E, [2014-11-20T21:38:28.576518 #95580] ERROR -- : Param is: 
E, [2014-11-20T21:38:28.576869 #95580] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
I, [2014-11-20T21:55:50.947308 #95703]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T21:55:51.225491 #95703]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T21:55:51.279325 #95703] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T21:55:51.284592 #95703] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T21:55:52.477278 #95703] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:43:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T21:55:52.477467 #95703] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T21:55:52.477571 #95703] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T21:55:57.456199 #95706] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T21:56:23.422186 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:56:23.422314 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:56:23.422363 #95709] ERROR -- : Code is: card_declined
E, [2014-11-20T21:56:23.422402 #95709] ERROR -- : Param is: 
E, [2014-11-20T21:56:23.422661 #95709] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:56:29.186038 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:56:29.186135 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:56:29.186206 #95709] ERROR -- : Code is: expired_card
E, [2014-11-20T21:56:29.186245 #95709] ERROR -- : Param is: exp_month
E, [2014-11-20T21:56:29.186497 #95709] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:56:36.888430 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:56:36.888535 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:56:36.888575 #95709] ERROR -- : Code is: processing_error
E, [2014-11-20T21:56:36.888613 #95709] ERROR -- : Param is: 
E, [2014-11-20T21:56:36.888888 #95709] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:56:57.578056 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:56:57.578158 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:56:57.578221 #95709] ERROR -- : Code is: expired_card
E, [2014-11-20T21:56:57.578270 #95709] ERROR -- : Param is: exp_month
E, [2014-11-20T21:56:57.578569 #95709] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:57:08.951518 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:57:08.951626 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:57:08.951668 #95709] ERROR -- : Code is: card_declined
E, [2014-11-20T21:57:08.951734 #95709] ERROR -- : Param is: 
E, [2014-11-20T21:57:08.952034 #95709] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T21:57:15.396022 #95709] ERROR -- : Status is: 402
E, [2014-11-20T21:57:15.396117 #95709] ERROR -- : Type is: card_error
E, [2014-11-20T21:57:15.396159 #95709] ERROR -- : Code is: processing_error
E, [2014-11-20T21:57:15.396198 #95709] ERROR -- : Param is: 
E, [2014-11-20T21:57:15.396543 #95709] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
I, [2014-11-20T22:19:07.568027 #95727]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:19:07.839127 #95727]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:19:07.887384 #95727] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:19:07.892286 #95727] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:19:10.838837 #95727] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:43:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:19:10.840000 #95727] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:19:10.840095 #95727] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:19:16.502010 #95730] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:19:52.003277 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:19:52.003408 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:19:52.003487 #95733] ERROR -- : Code is: card_declined
E, [2014-11-20T22:19:52.003551 #95733] ERROR -- : Param is: 
E, [2014-11-20T22:19:52.003910 #95733] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:19:56.303620 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:19:56.303716 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:19:56.303760 #95733] ERROR -- : Code is: expired_card
E, [2014-11-20T22:19:56.303829 #95733] ERROR -- : Param is: exp_month
E, [2014-11-20T22:19:56.304131 #95733] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:20:03.384021 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:20:03.384115 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:20:03.384159 #95733] ERROR -- : Code is: processing_error
E, [2014-11-20T22:20:03.384199 #95733] ERROR -- : Param is: 
E, [2014-11-20T22:20:03.384525 #95733] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:20:31.017703 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:20:31.017802 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:20:31.017845 #95733] ERROR -- : Code is: expired_card
E, [2014-11-20T22:20:31.017885 #95733] ERROR -- : Param is: exp_month
E, [2014-11-20T22:20:31.018211 #95733] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:20:41.260626 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:20:41.260728 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:20:41.260771 #95733] ERROR -- : Code is: card_declined
E, [2014-11-20T22:20:41.260811 #95733] ERROR -- : Param is: 
E, [2014-11-20T22:20:41.261091 #95733] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:20:47.793282 #95733] ERROR -- : Status is: 402
E, [2014-11-20T22:20:47.793385 #95733] ERROR -- : Type is: card_error
E, [2014-11-20T22:20:47.793430 #95733] ERROR -- : Code is: processing_error
E, [2014-11-20T22:20:47.793471 #95733] ERROR -- : Param is: 
E, [2014-11-20T22:20:47.793749 #95733] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:33:07.916187 #95764] ERROR -- : Guest checkout failed due to boom. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:26:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:28:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T22:33:07.943751 #95764]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:33:08.211954 #95764]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:33:08.259230 #95764] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:33:08.263971 #95764] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:33:10.165438 #95764] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:43:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:33:10.165612 #95764] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:33:10.165686 #95764] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:33:10.175514 #95764] ERROR -- : boom
E, [2014-11-20T22:33:15.285261 #95767] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:33:44.814256 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:33:44.814392 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:33:44.814436 #95770] ERROR -- : Code is: card_declined
E, [2014-11-20T22:33:44.814476 #95770] ERROR -- : Param is: 
E, [2014-11-20T22:33:44.814799 #95770] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:33:48.656146 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:33:48.656248 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:33:48.656292 #95770] ERROR -- : Code is: expired_card
E, [2014-11-20T22:33:48.656357 #95770] ERROR -- : Param is: exp_month
E, [2014-11-20T22:33:48.656633 #95770] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:33:57.209008 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:33:57.209106 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:33:57.209146 #95770] ERROR -- : Code is: processing_error
E, [2014-11-20T22:33:57.209184 #95770] ERROR -- : Param is: 
E, [2014-11-20T22:33:57.209533 #95770] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:34:22.635223 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:34:22.635335 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:34:22.635418 #95770] ERROR -- : Code is: expired_card
E, [2014-11-20T22:34:22.635462 #95770] ERROR -- : Param is: exp_month
E, [2014-11-20T22:34:22.635743 #95770] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:34:35.415605 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:34:35.415706 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:34:35.415766 #95770] ERROR -- : Code is: card_declined
E, [2014-11-20T22:34:35.415808 #95770] ERROR -- : Param is: 
E, [2014-11-20T22:34:35.416081 #95770] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:34:42.022254 #95770] ERROR -- : Status is: 402
E, [2014-11-20T22:34:42.022366 #95770] ERROR -- : Type is: card_error
E, [2014-11-20T22:34:42.022438 #95770] ERROR -- : Code is: processing_error
E, [2014-11-20T22:34:42.022480 #95770] ERROR -- : Param is: 
E, [2014-11-20T22:34:42.022731 #95770] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:38:53.062689 #95784] ERROR -- : Guest checkout failed due to boom. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:26:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:28:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T22:38:53.098153 #95784]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:38:53.384980 #95784]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:38:53.458266 #95784] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:38:53.462827 #95784] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:38:54.545952 #95784] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:43:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:38:55.129041 #95784] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:38:55.129162 #95784] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:38:55.139004 #95784] ERROR -- : boom
E, [2014-11-20T22:39:03.789415 #95787] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:39:38.006795 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:39:38.006929 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:39:38.006973 #95791] ERROR -- : Code is: card_declined
E, [2014-11-20T22:39:38.007012 #95791] ERROR -- : Param is: 
E, [2014-11-20T22:39:38.007291 #95791] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:39:42.773001 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:39:42.773098 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:39:42.773141 #95791] ERROR -- : Code is: expired_card
E, [2014-11-20T22:39:42.773181 #95791] ERROR -- : Param is: exp_month
E, [2014-11-20T22:39:42.773493 #95791] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:39:50.996536 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:39:50.996642 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:39:50.996691 #95791] ERROR -- : Code is: processing_error
E, [2014-11-20T22:39:50.996733 #95791] ERROR -- : Param is: 
E, [2014-11-20T22:39:50.997012 #95791] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:40:15.898352 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:40:15.898483 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:40:15.898527 #95791] ERROR -- : Code is: expired_card
E, [2014-11-20T22:40:15.898567 #95791] ERROR -- : Param is: exp_month
E, [2014-11-20T22:40:15.898843 #95791] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:40:26.677813 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:40:26.677911 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:40:26.677954 #95791] ERROR -- : Code is: card_declined
E, [2014-11-20T22:40:26.677995 #95791] ERROR -- : Param is: 
E, [2014-11-20T22:40:26.678267 #95791] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:40:33.716085 #95791] ERROR -- : Status is: 402
E, [2014-11-20T22:40:33.716179 #95791] ERROR -- : Type is: card_error
E, [2014-11-20T22:40:33.716220 #95791] ERROR -- : Code is: processing_error
E, [2014-11-20T22:40:33.716259 #95791] ERROR -- : Param is: 
E, [2014-11-20T22:40:33.716513 #95791] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:45:25.765002 #95805] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:26:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:28:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T22:45:25.800211 #95805]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:45:26.068988 #95805]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:45:26.131926 #95805] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:45:26.136771 #95805] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:45:28.324912 #95805] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:49:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:45:28.325103 #95805] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:45:28.325199 #95805] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:45:28.335186 #95805] ERROR -- : Striped::CreditCardException
E, [2014-11-20T22:50:51.273097 #95814] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:26:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:28:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T22:50:51.308687 #95814]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:50:51.578244 #95814]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:50:51.636672 #95814] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:50:51.646260 #95814] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:50:56.110398 #95814] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:51:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:50:56.110589 #95814] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:50:56.110704 #95814] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:50:56.121789 #95814] ERROR -- : Striped::CreditCardException
E, [2014-11-20T22:54:03.687060 #95824] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:26:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:28:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T22:54:03.711922 #95824]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T22:54:03.972679 #95824]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T22:54:04.023013 #95824] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:54:04.032369 #95824] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T22:54:06.882423 #95824] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:51:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:54:06.882608 #95824] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T22:54:06.882696 #95824] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T22:54:06.892936 #95824] ERROR -- : Striped::CreditCardException
E, [2014-11-20T22:54:13.174513 #95827] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T22:54:47.485437 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:54:47.485575 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:54:47.485620 #95830] ERROR -- : Code is: card_declined
E, [2014-11-20T22:54:47.485659 #95830] ERROR -- : Param is: 
E, [2014-11-20T22:54:47.485931 #95830] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:54:51.588101 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:54:51.588201 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:54:51.588241 #95830] ERROR -- : Code is: expired_card
E, [2014-11-20T22:54:51.588279 #95830] ERROR -- : Param is: exp_month
E, [2014-11-20T22:54:51.588543 #95830] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:54:59.141209 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:54:59.141303 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:54:59.141345 #95830] ERROR -- : Code is: processing_error
E, [2014-11-20T22:54:59.141388 #95830] ERROR -- : Param is: 
E, [2014-11-20T22:54:59.141726 #95830] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:55:27.867195 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:55:27.867288 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:55:27.867338 #95830] ERROR -- : Code is: expired_card
E, [2014-11-20T22:55:27.867378 #95830] ERROR -- : Param is: exp_month
E, [2014-11-20T22:55:27.867644 #95830] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:55:39.350438 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:55:39.350535 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:55:39.350594 #95830] ERROR -- : Code is: card_declined
E, [2014-11-20T22:55:39.350636 #95830] ERROR -- : Param is: 
E, [2014-11-20T22:55:39.350913 #95830] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T22:55:45.493522 #95830] ERROR -- : Status is: 402
E, [2014-11-20T22:55:45.493623 #95830] ERROR -- : Type is: card_error
E, [2014-11-20T22:55:45.493666 #95830] ERROR -- : Code is: processing_error
E, [2014-11-20T22:55:45.493706 #95830] ERROR -- : Param is: 
E, [2014-11-20T22:55:45.493986 #95830] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:09:12.985677 #95858] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:29:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:31:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:09:13.011583 #95858]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:09:13.280567 #95858]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:09:13.327747 #95858] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:09:13.336840 #95858] ERROR -- : Exception
E, [2014-11-20T23:09:13.341126 #95858] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:09:14.917836 #95858] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:09:14.918014 #95858] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:09:14.918101 #95858] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:25:01.330337 #95897] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:31:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:33:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:25:01.358208 #95897]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:25:01.617726 #95897]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:25:01.667430 #95897] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:25:01.676725 #95897] ERROR -- : Exception
E, [2014-11-20T23:25:01.681151 #95897] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:25:02.074170 #95897] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:25:02.074360 #95897] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:25:02.074449 #95897] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:28:24.180447 #95922] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:40:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:42:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:28:24.207991 #95922]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:28:24.463658 #95922]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:28:24.512051 #95922] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:28:24.521686 #95922] ERROR -- : Exception
E, [2014-11-20T23:28:24.526062 #95922] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:28:25.312699 #95922] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:28:25.312876 #95922] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:28:25.312980 #95922] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:30:44.785276 #95930] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:43:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:45:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:30:44.811991 #95930]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:30:45.078709 #95930]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:30:45.127240 #95930] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:30:45.136610 #95930] ERROR -- : Exception
E, [2014-11-20T23:30:45.140958 #95930] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:30:46.370965 #95930] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:30:46.371143 #95930] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:30:46.371230 #95930] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:32:07.284780 #95935] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:43:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:45:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:32:07.310495 #95935]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:32:07.563089 #95935]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:32:07.612184 #95935] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:32:07.621462 #95935] ERROR -- : Exception
E, [2014-11-20T23:32:07.625981 #95935] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:32:07.914109 #95935] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:32:07.914285 #95935] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:32:07.914372 #95935] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:34:39.862680 #95944] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:52:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:54:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:34:39.892224 #95944]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:34:40.152177 #95944]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:34:40.198977 #95944] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:34:40.208253 #95944] ERROR -- : Exception
E, [2014-11-20T23:34:40.212762 #95944] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:34:40.502238 #95944] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:34:40.502406 #95944] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:34:40.502490 #95944] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:38:02.790232 #95949] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:52:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:54:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:38:02.819174 #95949]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:38:03.080257 #95949]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:38:03.152970 #95949] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:38:03.162353 #95949] ERROR -- : Exception
E, [2014-11-20T23:38:03.167612 #95949] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:38:04.107564 #95949] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:38:04.107746 #95949] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:38:04.107824 #95949] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:40:46.790623 #95954] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:40:46.820307 #95954] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:54:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:56:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:40:46.850145 #95954]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:40:47.111152 #95954]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:40:47.157952 #95954] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:40:47.167747 #95954] ERROR -- : Exception
E, [2014-11-20T23:40:47.172280 #95954] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:40:47.796964 #95954] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:40:47.797133 #95954] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:40:47.797219 #95954] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:43:00.346929 #95964] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:43:00.375723 #95964] ERROR -- : Guest checkout failed due to Striped::CreditCardException. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:54:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:56:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:43:00.402002 #95964] ERROR -- : Guest checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:62:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:64:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:43:00.430904 #95964]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:43:00.682061 #95964]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:43:00.730714 #95964] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:43:00.739715 #95964] ERROR -- : Exception
E, [2014-11-20T23:43:00.744070 #95964] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:43:03.792675 #95964] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:43:03.792845 #95964] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:43:03.792950 #95964] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:44:37.986845 #95974] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:44:38.040232 #95974] ERROR -- : Guest checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:62:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:64:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:44:38.069396 #95974]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:44:38.337019 #95974]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:44:38.384567 #95974] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:44:38.393874 #95974] ERROR -- : Exception
E, [2014-11-20T23:44:38.398235 #95974] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:44:39.682883 #95974] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:44:39.683062 #95974] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:44:39.683161 #95974] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:46:14.628741 #95983] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:46:14.680982 #95983] ERROR -- : Guest checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:62:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:64:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:46:14.708097 #95983]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:46:14.985099 #95983]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:46:15.033405 #95983] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:46:15.042981 #95983] ERROR -- : Exception
E, [2014-11-20T23:46:15.047523 #95983] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:46:16.151673 #95983] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:59:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:46:16.151847 #95983] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:46:16.151936 #95983] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:46:20.956021 #95987] ERROR -- : Create subscription failed due to Stripe::InvalidRequestError : Invalid token id: bogus :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:232:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:19:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/matchers/built_in/raise_error.rb:42:in `matches?'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:54:in `to'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-expectations-3.0.4/lib/rspec/expectations/expectation_target.rb:87:in `to'
/Users/zepho/bitbuck/striped/spec/gateways/stripe_gateway_spec.rb:18:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:46:43.556360 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:46:43.556485 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:46:43.556530 #95990] ERROR -- : Code is: card_declined
E, [2014-11-20T23:46:43.556584 #95990] ERROR -- : Param is: 
E, [2014-11-20T23:46:43.556902 #95990] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:46:47.163058 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:46:47.163157 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:46:47.163200 #95990] ERROR -- : Code is: expired_card
E, [2014-11-20T23:46:47.163245 #95990] ERROR -- : Param is: exp_month
E, [2014-11-20T23:46:47.163516 #95990] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:46:52.458687 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:46:52.458793 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:46:52.458836 #95990] ERROR -- : Code is: processing_error
E, [2014-11-20T23:46:52.458905 #95990] ERROR -- : Param is: 
E, [2014-11-20T23:46:52.459241 #95990] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:12:in `block in save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:10:in `save_credit_card_and_charge'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/guest_checkout.rb:7:in `guest_checkout'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:47:11.754220 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:47:11.754348 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:47:11.754392 #95990] ERROR -- : Code is: expired_card
E, [2014-11-20T23:47:11.754432 #95990] ERROR -- : Param is: exp_month
E, [2014-11-20T23:47:11.754755 #95990] ERROR -- : Message is: Your card has expired. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:47:21.175078 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:47:21.175183 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:47:21.175226 #95990] ERROR -- : Code is: card_declined
E, [2014-11-20T23:47:21.175266 #95990] ERROR -- : Param is: 
E, [2014-11-20T23:47:21.175533 #95990] ERROR -- : Message is: Your card was declined. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:47:26.090329 #95990] ERROR -- : Status is: 402
E, [2014-11-20T23:47:26.090444 #95990] ERROR -- : Type is: card_error
E, [2014-11-20T23:47:26.090488 #95990] ERROR -- : Code is: processing_error
E, [2014-11-20T23:47:26.090542 #95990] ERROR -- : Param is: 
E, [2014-11-20T23:47:26.090966 #95990] ERROR -- : Message is: An error occurred while processing your card. Try again in a little bit. :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:236:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:195:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal.rb:236:in `block in action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:42:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/routing/route_set.rb:780:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/etag.rb:23:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/conditionalget.rb:38:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/flash.rb:257:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:225:in `context'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/session/abstract/id.rb:220:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/cookies.rb:558:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/query_cache.rb:36:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:88:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:38:in `call_app'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/rack/logger.rb:20:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/methodoverride.rb:22:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/runtime.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/lock.rb:17:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_dispatch/middleware/static.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/sendfile.rb:113:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/engine.rb:514:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/railties-4.2.0.beta4/lib/rails/application.rb:161:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:66:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `each'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/urlmap.rb:50:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/capybara-2.4.4/lib/capybara/server.rb:19:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rack-1.6.0.beta/lib/rack/handler/webrick.rb:89:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/Users/zepho/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
E, [2014-11-20T23:51:03.271938 #96001] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:51:03.341146 #96001] ERROR -- : Guest checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:62:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:25:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:64:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
I, [2014-11-20T23:51:03.369000 #96001]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
I, [2014-11-20T23:51:03.692482 #96001]  INFO -- : Received event with ID: evt_150MhXKmUHg13gkF5GmUVsEz Type: invoice.payment_failed
E, [2014-11-20T23:51:03.746966 #96001] ERROR -- : undefined method `email' for nil:NilClass
E, [2014-11-20T23:51:03.756477 #96001] ERROR -- : Exception
E, [2014-11-20T23:51:03.760966 #96001] ERROR -- : Striped::CreditCardException
E, [2014-11-20T23:51:04.063826 #96001] ERROR -- : Authentication with Stripe's API failed :  /Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:234:in `handle_api_error'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:126:in `rescue in request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe.rb:112:in `request'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/stripe-1.16.0/lib/stripe/api_operations/create.rb:6:in `create'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:5:in `block in create_subscription'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:42:in `run_with_stripe_exception_handler'
/Users/zepho/bitbuck/striped/app/gateways/stripe_gateway.rb:4:in `create_subscription'
/Users/zepho/bitbuck/striped/app/actors/customer/use_cases/subscribe_to_a_plan.rb:6:in `subscribe_to_a_plan'
/Users/zepho/bitbuck/striped/app/controllers/subscriptions_controller.rb:10:in `create'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:510:in `post'
/Users/zepho/bitbuck/striped/spec/controllers/subscriptions_controller_spec.rb:62:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
E, [2014-11-20T23:51:04.064019 #96001] ERROR -- : (maybe you changed API keys recently)
E, [2014-11-20T23:51:04.064103 #96001] ERROR -- : Invalid API Key provided: junk
E, [2014-11-20T23:51:50.411044 #96010] ERROR -- : One Click Checkout failed due to Exception. /Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:39:in `block (3 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:592:in `block in call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:591:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:495:in `invoke_incrementing_actual_calls_by'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/message_expectation.rb:214:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:168:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/proxy.rb:306:in `message_received'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:73:in `proxy_method_invoked'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-mocks-3.0.4/lib/rspec/mocks/method_double.rb:60:in `block (2 levels) in define_proxy_method'
/Users/zepho/bitbuck/striped/app/controllers/sales_controller.rb:7:in `new'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:198:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:117:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:234:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:169:in `block in halting'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:92:in `_run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activesupport-4.2.0.beta4/lib/active_support/notifications.rb:164:in `instrument'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/activerecord-4.2.0.beta4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/abstract_controller/base.rb:137:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionview-4.2.0.beta4/lib/action_view/rendering.rb:30:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:628:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:64:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `block in process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `catch'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:72:in `_catch_warden'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/devise-3.4.1/lib/devise/test_helpers.rb:19:in `process'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/actionpack-4.2.0.beta4/lib/action_controller/test_case.rb:504:in `get'
/Users/zepho/bitbuck/striped/spec/controllers/sales_controller_spec.rb:41:in `block (2 levels) in <top (required)>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:148:in `block in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/example/controller_example_group.rb:174:in `block (2 levels) in <module:ControllerExampleGroup>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-rails-3.0.2/lib/rspec/rails/adapters.rb:72:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:294:in `instance_exec'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:430:in `block (2 levels) in run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `call'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:210:in `block (2 levels) in <class:Procsy>'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:432:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/hooks.rb:485:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:303:in `with_around_example_hooks'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example.rb:145:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:494:in `block in run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:490:in `run_examples'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/example_group.rb:457:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block (2 levels) in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `map'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:112:in `block in run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/reporter.rb:54:in `report'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:108:in `run_specs'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:86:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:70:in `run'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/lib/rspec/core/runner.rb:38:in `invoke'
/Users/zepho/.rvm/gems/ruby-2.1.2@stripe/gems/rspec-core-3.0.4/exe/rspec:4:in `<main>'
